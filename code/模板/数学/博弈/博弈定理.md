# 博弈定理

## 策梅洛定理（Zermelo's theorem）

**定理表明在二人参与的游戏中，如果满足:**

**在二人参与的游戏中，如果满足游戏步骤有限、信息完备、每一步骤都是确定性，则或者先行一方有必胜策略，或者先行一方有必和策略，或者后行一方有必胜策略。**

## PN状态转化

**P状态：所有可以前往的状态都是N状态**

**N状态：可以前往P状态**

## 反nim

**先手必胜的条件为：**

**①：所有堆的石子数均=1，且异或和=0（有偶数堆）。**

**②：至少有一个堆的石子数>1，且石子堆的异或和≠0。**

### 必胜策略

* **只有一堆石子数大于1时，我们总可以对该石子操作，使操作后堆数为奇数且所有堆的石子数均为1；**
* **有超过一堆的石子数1时，先手将SG值变为0即可，且总还存在某堆石子数大于1 **

## Wythoff's Game

**有两堆石子，个数为 $a[k],b[k]$；A，B轮流取石子，规定要么只取一堆的任意多个，**
**要么在两堆里取同样任意多个，问A先手是否有必胜策略。**
**奇异局势：$a[k]=\lfloor \frac{\sqrt{5}+1}{2}*k\rfloor$,$b[k]=a[k]+k$**

### Beatty序列

**一个正整数r生成的Beattry序列是指这样一个序列**
**$B_r=(\lfloor r_i\rfloor)_{i\geq1}$**

### Rayleigh定理

**假设正无理数r>1,s满足$\frac{1}{r}+\frac{1}{s}=1$,则${B_r}$与${B_s}$是全体正整数的一个分割。级任意一个正整数存在且仅存在于${B_r}$与${B_s}$的其中一个序列**

## 扩展：k-Wythoff博弈

**k-Wythoff博弈是Wythoff博弈的推广，其和Wythoff博弈唯一的区别是轮到某个玩家时，玩家可以：**

**从其中一堆石子中取走 x>1 个；或从两堆石子中分别取走 x>1,y>1 个，满足 |x-y|≤k。显然Wythoff博弈可以看成 k=0 时的k-Wythoff博弈。**

**$a_i=\lfloor r_i\rfloor$ $b_i=\lfloor s_i\rfloor$（Beatty序列）**

**$r=\frac{\sqrt{k^2+2k+5}+1-k}{2}$,$s=\frac{\sqrt{k^2+2k+5}+3+k}{2}$**

## 二分图博弈

**给出一个二分图和一个起始点H，两人轮流操作，每次只能选择一个与当前点相邻的之前没有被走过的点，并走到该相邻点，不能走的输。**

### 结论

**如果二分图的最大匹配一定包含起始点H，则先手必胜，否则先手必败。**

### 必胜策略

* **如果H一定在最大匹配上，先手按H的匹配边走到下一个点**
* **如果H不在其中一个最大匹配M上，不关先手走哪一个点P，后手按P的匹配边走到下一个点**

### 求法

**分别求G去掉H和不去掉H的最大匹配如果相等必败，不等则必胜**

## Fibonacci Nim

**初始时有n个石子，两个人轮流取石子。规则为**

* **先手第一次可以取1到n-1个石子**
* **之后每一次，可取的数量为1到上一个人去的石子数的2倍**

**不能取的输**

### Zeckendorf's Theorem

**每个正整数可以唯一的写成一些不相邻的Fibonacci数的和（$F_1=1,F_2=2且F_n=F***{n-1}+F*{n-2}(n>2)$）

### 必胜策略

**分解n为一堆不相邻的Fibonacci数的和，第一次直接取掉最小的$F_x$，之后无论后手怎么做，分解剩下的数，去掉最小的$F_x$一定取掉最后的数（因为这些$F_i$都是不相邻的，是奇异局势）**
